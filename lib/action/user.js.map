{"version":3,"sources":["../../src/action/user.js"],"names":["userService","require","createUser","ctx","type","body","request","username","password","result","code","data","systemTime","Date","now","status","console","log","message","getUser","id","params","getUserById","user","module","exports"],"mappings":";;;;;;;;;;;;AAIA,IAAMA,cAAcC,QAAQ,iBAAR,CAApB;;AAEA,IAAIC;AAAA,0EAAa,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACbA,4BAAIC,IAAJ,GAAW,WAAX;AADa;AAGLC,4BAHK,GAGEF,IAAIG,OAAJ,CAAYD,IAAZ,IAAoB,EAHtB;AAILE,gCAJK,GAIMF,KAAKE,QAJX;AAKLC,gCALK,GAKMH,KAAKG,QALX;AAAA;AAAA,+BAMUR,YAAYE,UAAZ,CAAuBK,QAAvB,EAAiCC,QAAjC,CANV;;AAAA;AAMLC,8BANK;;AAOTN,4BAAIE,IAAJ,GAAW;AACPK,kCAAM,GADC;AAEPC,kCAAMF,MAFC;AAGPG,wCAAYC,KAAKC,GAAL;AAHL,yBAAX;AAKAX,4BAAIY,MAAJ,GAAa,GAAb;AAZS;AAAA;;AAAA;AAAA;AAAA;;AAcTC,gCAAQC,GAAR;AACAd,4BAAIe,OAAJ,GAAc,YAAEA,OAAhB;AACAf,4BAAIY,MAAJ,GAAa,GAAb;;AAhBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAb;;AAAA;AAAA;AAAA;AAAA,GAAJ;;AAqBA,IAAII;AAAA,2EAAU,kBAAMhB,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACVA,4BAAIC,IAAJ,GAAW,WAAX;AADU;AAGFgB,0BAHE,GAGGjB,IAAIkB,MAAJ,CAAWD,EAHd;AAAA;AAAA,+BAIWpB,YAAYsB,WAAZ,CAAwBF,EAAxB,CAJX;;AAAA;AAIFG,4BAJE;;AAKNpB,4BAAIE,IAAJ,GAAW;AACPK,kCAAM,GADC;AAEPC,kCAAMY,IAFC;AAGPX,wCAAYC,KAAKC,GAAL;AAHL,yBAAX;AAKAX,4BAAIY,MAAJ,GAAa,GAAb;AAVM;AAAA;;AAAA;AAAA;AAAA;;AAYNC,gCAAQC,GAAR;AACAd,4BAAIe,OAAJ,GAAc,aAAEA,OAAhB;AACAf,4BAAIY,MAAJ,GAAa,GAAb;;AAdM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;AAAA,GAAJ;;AA4BAS,OAAOC,OAAP,GAAiB;AACbvB,gBAAYA,UADC;AAEbiB,aAASA;AAFI,CAAjB","file":"user.js","sourcesContent":["/**\n * Created by linfeiyang on 16-11-2.\n */\n\nconst userService = require('../service/user');\n\nvar createUser = async(ctx) => {\n    ctx.type = 'text/json';\n    try {\n        let body = ctx.request.body || {};\n        let username = body.username;\n        let password = body.password;\n        let result = await userService.createUser(username, password);\n        ctx.body = {\n            code: 200,\n            data: result,\n            systemTime: Date.now()\n        };\n        ctx.status = 200;\n    } catch (e) {\n        console.log(e);\n        ctx.message = e.message;\n        ctx.status = 400;\n    }\n\n};\n\nvar getUser = async(ctx) => {\n    ctx.type = 'text/json';\n    try {\n        let id = ctx.params.id;\n        let user = await userService.getUserById(id);\n        ctx.body = {\n            code: 200,\n            data: user,\n            systemTime: Date.now()\n        };\n        ctx.status = 200;\n    } catch (e) {\n        console.log(e);\n        ctx.message = e.message;\n        ctx.status = 400;\n    }\n};\n\n/*var login = async() => {\n    ctx.type = 'text/json';\n    ctx.body = {\n        code: 200,\n        data: null,\n        message: '暂不支持',\n        systemTime: Date.now()\n    };\n};*/\n\nmodule.exports = {\n    createUser: createUser,\n    getUser: getUser,\n    //login: login\n};\n"]}